<!DOCTYPE html>
<HTML>

<HEAD>
    <TITLE>tree-table demo</TITLE>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <link rel="stylesheet" href="bower_components/z-tree.v3/css/zTreeStyle/zTreeStyle.css" type="text/css">
    <link rel="stylesheet" href="uitreeTable.css" type="text/css">
    <script type="text/javascript" src="bower_components/z-tree.v3/js/jquery-1.4.4.min.js"></script>
    <script type="text/javascript" src="bower_components/z-tree.v3/js/jquery.ztree.all.js"></script>
    <!-- <script type="text/javascript" src="../../bower_components/z-tree.v3/js/jquery.ztree.core.js"></script>
    <script type="text/javascript" src="../../bower_components/z-tree.v3/js/jquery.ztree.excheck.js"></script>
    <script type="text/javascript" src="../../bower_components/z-tree.v3/js/jquery.ztree.exedit.js"></script>-->
    <script type="text/javascript" src="uitreeTable.js"></script>
    <script>
    $(document).ready(function() {
        //宽度请统一用百分比
        var treeTable = new TreeTable({
            id: "treeDemo",//树id
            autoUpdate: true,//
            //一级树属性(第一列)
            type:"get",
            url: "zNodes.json",
            ajaxData:{},
            zNodes:[],
            //表头属性
            titleId:"title",
            titleText: "名称",
            titleWidth: "20%",
            //勾选列属性
            checkWidth: 0,
            //树的扩展列
            tableCel: [{
                    type: "string",
                    name: "extend1",
                    text: "描述1",
                    width: "20%",
                    blankText:"--"
                },
                {
                    type: "tree",
                    name: "extend2",
                    text: "描述2",
                    width: "20%",
                    param: {
                      /*  type:"get",
                        url: "zNodes2.json",
                        ajaxData:{},*/
                        zNodes:[{
                            "id":"expend2_0",
                            "text":"描述2 子树",
                            "children":[{
                                "id":"expend2_0_1",
                                "text":"expend2_0_1 text"
                            },{
                                "id":"expend2_0_2",
                                "text":"expend2_0_2 text"
                            }]
                        }]
                    }
                },
                {
                    type: "tree",
                    name: "extend3",
                    text: "描述3",
                    width: "20%",
                    param: {
                        zNodes:[{
                            "id":"expend3_0",
                            "text":"描述3 子树",
                            "children":[{
                                "id":"expend3_0_1",
                                "text":"expend3_0_1 text"
                            },{
                                "id":"expend3_0_2",
                                "text":"expend3_0_2 text"
                            }]
                        }]
                    }
                },
                {
                    type: "operate",
                    name: "isOperate",
                    text: "操作",
                    width: "20%",
                    param: {
                        list:[
                            {name:"tree_edit",text:"编辑",click:function() {
                                var checkRow = this.getCheckRow()[0];
                                var name = checkRow.name;
                                alert("编辑行" + name);
                            }},
                            {name:"tree_del",text:"删除",click:function(){
                                var checkRow = this.getCheckRow()[0];
                                var name = checkRow.name;
                                alert("删除行" + name);
                            }}
                        ]
                	}
                }
            ],
            events: [],
            formatzNodes:function(nodes){//格式化zNodes
            	return nodes;
            },
            afterUpdate:function(){},
        });

    });
    </script>
</HEAD>

<BODY>
    <ul id="treeDemo" class="ztree"></ul>
</BODY>

</HTML>